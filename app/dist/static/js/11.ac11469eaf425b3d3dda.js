webpackJsonp([11],{HEll:function(t,o,e){var a=e("XKuj");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);e("rjj0")("60a9bdc4",a,!0,{})},XKuj:function(t,o,e){(t.exports=e("FZ+f")(!1)).push([t.i,"",""])},vKXr:function(t,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var a=e("teIl"),r=e("OChx"),i=e("BTaQ"),n=e.n(i),s=e("PJh5"),c=e.n(s),p={name:"BookDetail",components:{iHeader:a.a,iStar:r.a},data:function(){return{book_id:0,book:{cover:"",category:{id:0,name:"未知"},created_at:0,id:0,introduction:"",name:"",price:0,publisher:"",score:0,sellNumber:"",updated_at:0,peopleNumber:"",author:""}}},beforeMount:function(){this.book_id=this.$route.params.book_id,this.GetBook(this.book_id)},computed:{},methods:{GetBook:function(t){var o=this;this.$http.get("book/"+t).then(function(t){o.book.cover=t.data.cover,null!==o.book.cover&&"NULL"!==o.book.cover&&"null"!==o.book.cover&&""!==o.book.cover||(o.book.cover=!1),t.data.category&&(o.book.category=t.data.category),o.book.id=t.data.id,o.book.introduction=t.data.introduction,o.book.name=t.data.name,o.book.price=o.toDecimal2(t.data.price/100),o.book.score=t.data.score,o.book.sellNumber=t.data.sell_number,o.book.publisher=t.data.publisher,o.book.peopleNumber=t.data.people_number,o.book.author=t.data.author,o.book.created_at=c.a.unix(t.data.created_at).format("YYYY-MM-DD"),o.book.updated_at=c.a.unix(t.data.updated_at).format("YYYY-MM-DD HH:mm:ss"),o.$Loading.finish(),document.title=o.book.name+window.title_suf}).catch(function(t){switch(n.a.LoadingBar.error(),t.response.status){case 404:n.a.Notice.error({title:"这本书不存在, 将在5秒后返回上一页面"})}var e=o;setTimeout(function(){e.$router.back()},5e3)})},toDecimal2:function(t){var o=(Math.round(100*t)/100).toString(),e=o.indexOf(".");for(e<0&&(e=o.length,o+=".");o.length<=e+2;)o+="0";return o},ToString:function(t){return t=117*t+215},Buy:function(){var t=this.book_id;t=this.ToString(t),this.$router.push({name:"CreateOrder",params:{book_id:t}})}}},u={render:function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"book-detail"},[e("i-header"),t._v(" "),e("Breadcrumb",{staticStyle:{"margin-top":"20px","margin-bottom":"20px","margin-left":"20px"}},[e("BreadcrumbItem",{attrs:{to:"/"}},[t._v("首页")]),t._v(" "),e("BreadcrumbItem",{attrs:{to:"/select?query=category,"+t.book.category.id}},[t._v(t._s(t.book.category.name))]),t._v(" "),e("BreadcrumbItem",[t._v(t._s(t.book.name))])],1),t._v(" "),e("Row",[e("Col",{attrs:{span:"8"}},[t.book.cover?e("img",{attrs:{src:t.book.cover,width:"100%"}}):e("div",{staticStyle:{height:"500px"}},[t._v("该书暂无封面")])]),t._v(" "),e("Col",{attrs:{span:"16"}},[e("h1",{staticStyle:{"font-size":"36px"}},[t._v(t._s(t.book.name))]),t._v(" "),e("p",{staticStyle:{"font-size":"18px","margin-top":"10px"}},[t._v("作者： "+t._s(t.book.author))]),t._v(" "),e("p",{staticStyle:{"font-size":"12px","margin-top":"10px"}},[t._v("出版社： "+t._s(t.book.publisher))]),t._v(" "),e("p",{staticStyle:{"font-size":"12px","margin-top":"10px"}},[t._v("上架时间： "+t._s(t.book.created_at))]),t._v(" "),e("p",{staticStyle:{width:"60%","font-size":"14px","word-break":"break-all","word-wrap":"break-word","margin-top":"10px"}},[t._v("简介："+t._s(t.book.introduction))]),t._v(" "),e("p",{staticStyle:{"margin-top":"10px"}},[t._v("评分： "),e("i-star",{attrs:{score:t.book.score}}),t._v(" "),e("span",[t._v("(共 "+t._s(t.book.peopleNumber)+" 人评分) ")])],1),t._v(" "),e("p",{staticStyle:{"margin-top":"10px"}},[t._v("销量: "+t._s(t.book.sellNumber)+" 本")]),t._v(" "),e("p",{staticStyle:{"margin-top":"20px"}},[t._v("价格： "),e("span",{staticStyle:{color:"red"}},[t._v("￥")]),e("span",{staticStyle:{"font-size":"24px",color:"red"}},[t._v(t._s(t.book.price))])]),t._v(" "),e("Button",{staticStyle:{"margin-top":"10px","margin-bottom":"10px"},attrs:{type:"error"},on:{click:function(o){t.Buy()}}},[t._v("立即购买")]),t._v(" "),e("Button",{staticStyle:{"margin-top":"10px","margin-bottom":"10px"},on:{click:function(o){t.$router.back()}}},[t._v("返回")])],1)],1)],1)},staticRenderFns:[]};var d=e("VU/8")(p,u,!1,function(t){e("HEll")},"data-v-72032700",null);o.default=d.exports}});
//# sourceMappingURL=11.ac11469eaf425b3d3dda.js.map