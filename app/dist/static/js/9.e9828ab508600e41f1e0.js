webpackJsonp([9],{"42Hy":function(t,a,o){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var e=o("teIl"),s=o("OChx"),r={name:"Index",components:{iHeader:e.a,iStar:s.a},data:function(){return{search:"",avatar:"",category:[],hotBooks:[],newBooks:[],randomBooks:[]}},beforeMount:function(){this.GetCategory(),this.GetHotBook(),this.GetNewBook(),this.GetRandomBook(),document.title="首页"+window.title_suf},computed:{},methods:{getId:function(t,a){return a+"-"+t.toString()},Search:function(){var t="keyword,"+this.search;this.$router.push({name:"Select",query:{query:t}}),console.log(this.search)},GetCategory:function(){var t=this;this.$http.get("category",{params:{}}).then(function(a){t.category=a.data}).catch(function(t){})},GetHotBook:function(){var t=this;this.$http.get("book",{params:{order:"volume",direction:"desc",limit:10}}).then(function(a){t.hotBooks=a.data}).catch(function(t){})},GetNewBook:function(){var t=this;this.$http.get("book",{params:{limit:10}}).then(function(a){t.newBooks=a.data}).catch(function(t){})},GetRandomBook:function(){var t=this;this.$http.get("book",{params:{order:"random",limit:10}}).then(function(a){t.randomBooks=a.data}).catch(function(t){})},changeRandBook:function(){event.preventDefault(),this.GetRandomBook()},ToBookDetail:function(t){event.preventDefault(),this.$Loading.start(),this.$router.push({name:"BookDetail",params:{book_id:t}})},toDecimal2:function(t){var a=(Math.round(100*t)/100).toString(),o=a.indexOf(".");for(o<0&&(o=a.length,a+=".");a.length<=o+2;)a+="0";return a},hasImg:function(t){return null!==t&&"null"!==t&&"NULL"!==t}}},n={render:function(){var t=this,a=t.$createElement,o=t._self._c||a;return o("div",{staticClass:"index"},[o("iHeader"),t._v(" "),o("div",{staticClass:"search-box"},[o("div",{staticClass:"head-search"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticStyle:{height:"36px",width:"60%"},attrs:{placeholder:"关键词搜索书名/作者/出版社"},domProps:{value:t.search},on:{input:function(a){a.target.composing||(t.search=a.target.value)}}}),t._v(" "),o("Button",{attrs:{type:"primary"},on:{click:function(a){t.Search()}}},[t._v("搜索")])],1)]),t._v(" "),o("Row",[o("Col",{attrs:{xs:0,ms:6,md:4}},[o("div",{staticClass:"category-box"},[o("h6",{staticStyle:{"font-size":"16px","margin-left":"10px","margin-bottom":"10px"}},[t._v("\n          图书分类\n        ")]),t._v(" "),t._l(t.category,function(a,e){return o("Row",{key:t.getId(e,"cate"),staticClass:"category",attrs:{id:t.getId(e,"cate")}},[o("Col",[o("a",{staticClass:"category-link",attrs:{href:"/select?query=category,"+a.id,target:"_blank"}},[t._v(t._s(a.name))])])],1)})],2)]),t._v(" "),o("Col",{attrs:{xs:24,ms:"18",md:20}},[o("div",{staticStyle:{"margin-left":"25px"}},[o("div",{staticClass:"title"},[t._v("\n          畅销榜\n        ")]),t._v(" "),t._l(t.hotBooks,function(a,e){return o("Card",{key:t.getId(e,"hot"),staticClass:"books",attrs:{id:t.getId(e,"hot")}},[o("p",{attrs:{slot:"title"},slot:"title"},[o("Icon",{attrs:{type:"ios-book-outline"}}),t._v("\n            "+t._s(a.name)+"\n          ")],1),t._v(" "),o("p",{attrs:{slot:"extra"},slot:"extra"},[o("i-star",{attrs:{score:a.score}}),t._v(" "),o("Button",{attrs:{slot:"extra"},on:{click:function(o){t.ToBookDetail(a.id)}},slot:"extra"},[t._v("查看详情")])],1),t._v(" "),o("Row",[o("Col",{attrs:{span:"10"}},[t.hasImg(a.cover)?o("img",{staticClass:"cover",attrs:{src:a.cover}}):o("div",{staticClass:"cover"},[t._v("该书暂无图片")])]),t._v(" "),o("Col",{attrs:{span:"14"}},[t._v("\n              作者： "+t._s(a.author)),o("br"),t._v("\n              分类： "),o("a",[t._v(t._s(a.category.name))]),o("br"),t._v("\n              出版社： "+t._s(a.publisher)),o("br"),t._v("\n              价格： ￥"+t._s(t.toDecimal2(a.price/100))),o("br"),t._v("\n              销量： "+t._s(a.sell_number)+"本\n            ")])],1)],1)}),t._v(" "),o("div",{staticStyle:{height:"50px"}}),t._v(" "),o("div",{staticClass:"title"},[t._v("\n          新书上架\n        ")]),t._v(" "),o("div",t._l(t.newBooks,function(a,e){return o("Card",{key:t.getId(e,"new"),staticClass:"books",attrs:{id:t.getId(e,"new")}},[o("p",{attrs:{slot:"title"},slot:"title"},[o("Icon",{attrs:{type:"ios-book-outline"}}),t._v("\n              "+t._s(a.name)+"\n            ")],1),t._v(" "),o("p",{attrs:{slot:"extra"},slot:"extra"},[o("i-star",{attrs:{score:a.score}}),t._v(" "),o("Button",{attrs:{slot:"extra"},on:{click:function(o){t.ToBookDetail(a.id)}},slot:"extra"},[t._v("查看详情")])],1),t._v(" "),o("Row",[o("Col",{attrs:{span:"10"}},[t.hasImg(a.cover)?o("img",{staticClass:"cover",attrs:{src:a.cover}}):o("div",{staticClass:"cover"},[t._v("该书暂无图片")])]),t._v(" "),o("Col",{attrs:{span:"14"}},[t._v("\n                作者： "+t._s(a.author)),o("br"),t._v("\n                分类： "),o("a",[t._v(t._s(a.category.name))]),o("br"),t._v("\n                出版社： "+t._s(a.publisher)),o("br"),t._v("\n                价格： ￥"+t._s(t.toDecimal2(a.price/100))),o("br"),t._v("\n                销量： "+t._s(a.sell_number)+"本\n              ")])],1)],1)})),t._v(" "),o("div",{staticStyle:{height:"50px"}}),t._v(" "),o("div",{staticClass:"title"},[t._v("\n          猜你喜欢\n          "),o("span",{staticClass:"change-rand-book",on:{click:function(a){t.changeRandBook()}}},[o("Icon",{attrs:{type:"ios-loop-strong",color:"blue"}}),t._v("\n            换一批\n          ")],1)]),t._v(" "),t._l(t.randomBooks,function(a,e){return o("Card",{key:t.getId(e,"rand"),staticClass:"books",attrs:{id:t.getId(e,"rand")}},[o("p",{attrs:{slot:"title"},slot:"title"},[o("Icon",{attrs:{type:"ios-book-outline"}}),t._v("\n            "+t._s(a.name)+"\n          ")],1),t._v(" "),o("p",{attrs:{slot:"extra"},slot:"extra"},[o("i-star",{attrs:{score:a.score}}),t._v(" "),o("Button",{attrs:{slot:"extra"},on:{click:function(o){t.ToBookDetail(a.id)}},slot:"extra"},[t._v("查看详情")])],1),t._v(" "),o("Row",[o("Col",{attrs:{span:"10"}},[t.hasImg(a.cover)?o("img",{staticClass:"cover",attrs:{src:a.cover}}):o("div",{staticClass:"cover"},[t._v("该书暂无图片")])]),t._v(" "),o("Col",{attrs:{span:"14"}},[t._v("\n              作者： "+t._s(a.author)),o("br"),t._v("\n              分类： "),o("a",[t._v(t._s(a.category.name))]),o("br"),t._v("\n              出版社： "+t._s(a.publisher)),o("br"),t._v("\n              价格： ￥"+t._s(t.toDecimal2(a.price/100))),o("br"),t._v("\n              销量： "+t._s(a.sell_number)+"本\n            ")])],1)],1)})],2),t._v(" "),o("div",{staticStyle:{height:"50px"}})])],1)],1)},staticRenderFns:[]};var i=o("VU/8")(r,n,!1,function(t){o("eb+Z")},"data-v-ae2808ca",null);a.default=i.exports},"eb+Z":function(t,a,o){var e=o("z1qv");"string"==typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);o("rjj0")("552cd77b",e,!0,{})},z1qv:function(t,a,o){(t.exports=o("FZ+f")(!1)).push([t.i,".index[data-v-ae2808ca]{min-height:1000px;background:#f5f7f9;position:relative;border-radius:4px;overflow:hidden}.head-search[data-v-ae2808ca]{margin-left:20%;height:70px;font-size:24px}.search-box[data-v-ae2808ca]{margin-top:80px;height:70px;width:100%}.category-box[data-v-ae2808ca]{-webkit-box-sizing:border-box;box-sizing:border-box;border-right:1px solid #7f7f7f}.category[data-v-ae2808ca]{margin-left:30px;margin-top:5px;font-size:14px}.category-link[data-v-ae2808ca]{color:#000}.category-link[data-v-ae2808ca]:hover{color:#e47911;text-decoration:underline}.books[data-v-ae2808ca]{width:400px;display:inline-block;margin-right:10px;margin-top:10px}.title[data-v-ae2808ca]{font-size:16px}.cover[data-v-ae2808ca]{max-width:100%;max-height:200px;min-height:150px}.change-rand-book[data-v-ae2808ca]{cursor:pointer;color:#55f}",""])}});
//# sourceMappingURL=9.e9828ab508600e41f1e0.js.map