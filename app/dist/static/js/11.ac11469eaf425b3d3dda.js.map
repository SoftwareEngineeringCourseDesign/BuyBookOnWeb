{"version":3,"sources":["webpack:///./src/components/BookDetail.vue?135f","webpack:///./src/components/BookDetail.vue?7033","webpack:///src/components/BookDetail.vue","webpack:///./src/components/BookDetail.vue?93ff","webpack:///./src/components/BookDetail.vue"],"names":["content","__webpack_require__","module","i","locals","exports","push","BookDetail","name","components","iHeader","Header","iStar","Star","data","book_id","book","cover","category","id","created_at","introduction","price","publisher","score","sellNumber","updated_at","peopleNumber","author","beforeMount","this","$route","params","GetBook","computed","methods","bookId","_this","$http","get","then","r","toDecimal2","sell_number","people_number","moment_default","a","unix","format","$Loading","finish","document","title","window","title_suf","catch","e","iview_default","LoadingBar","error","response","status","Notice","that","setTimeout","$router","back","x","s","Math","round","toString","rs","indexOf","length","ToString","Buy","components_BookDetail","render","_vm","_h","$createElement","_c","_self","staticClass","_v","staticStyle","margin-top","margin-bottom","margin-left","attrs","to","_s","span","src","width","height","font-size","word-break","word-wrap","color","type","on","click","$event","staticRenderFns","Component","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/11.ac11469eaf425b3d3dda.js","sourcesContent":["// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/index.js?minimize!../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-72032700\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!../../node_modules/iview-loader/index.js??ref--1-1!./BookDetail.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"60a9bdc4\", content, true, {});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-style-loader!./node_modules/css-loader?minimize!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-72032700\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./node_modules/iview-loader??ref--1-1!./src/components/BookDetail.vue\n// module id = HEll\n// module chunks = 11","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader?minimize!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-72032700\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./node_modules/iview-loader??ref--1-1!./src/components/BookDetail.vue\n// module id = XKuj\n// module chunks = 11","<template>\n  <div class=\"book-detail\">\n    <i-header></i-header>\n    <Breadcrumb style=\"margin-top: 20px; margin-bottom: 20px; margin-left: 20px;\">\n      <BreadcrumbItem to=\"/\">首页</BreadcrumbItem>\n      <BreadcrumbItem :to=\"'/select?query=category,' + book.category.id\">{{ book.category.name }}</BreadcrumbItem>\n      <BreadcrumbItem>{{ book.name }}</BreadcrumbItem>\n    </Breadcrumb>\n    <Row>\n      <Col span=\"8\">\n        <img v-if=\"book.cover\" :src=\"book.cover\" width=\"100%\">\n        <div v-else style=\"height: 500px;\">该书暂无封面</div>\n      </Col>\n      <Col span=\"16\">\n        <h1 style=\"font-size: 36px;\">{{ book.name }}</h1>\n        <p style=\"font-size: 18px; margin-top: 10px;\">作者： {{ book.author }}</p>\n        <p style=\"font-size: 12px; margin-top: 10px;\">出版社： {{ book.publisher }}</p>\n        <p style=\"font-size: 12px; margin-top: 10px;\">上架时间： {{ book.created_at }}</p>\n        <p style=\"width: 60%; font-size: 14px; word-break: break-all; word-wrap: break-word; margin-top: 10px;\">简介：{{ book.introduction }}</p>\n        <p style=\"margin-top: 10px;\">评分： <i-star :score=\"book.score\"></i-star> <span>(共 {{ book.peopleNumber }} 人评分) </span></p>\n        <p style=\"margin-top: 10px;\">销量: {{ book.sellNumber }} 本</p>\n        <p style=\"margin-top: 20px;\">价格： <span style=\"color: red;\">￥</span><span style=\"font-size: 24px; color: red\">{{ book.price }}</span></p>\n        <Button type=\"error\" @click=\"Buy()\" style=\"margin-top: 10px; margin-bottom: 10px;\">立即购买</Button>\n        <Button @click=\"$router.back()\" style=\"margin-top: 10px; margin-bottom: 10px;\">返回</Button>\n      </Col>\n    </Row>\n  </div>\n</template>\n\n<script>\nimport iHeader from './Header.vue'\nimport iStar from './Star.vue'\nimport iView from 'iview'\nimport moment from 'moment'\nexport default {\n  name: 'BookDetail',\n  components: {\n    iHeader,\n    iStar\n  },\n  data () {\n    return {\n      book_id: 0,\n      book: {\n        cover: '',\n        category: {\n          id: 0,\n          name: '未知'\n        },\n        created_at: 0,\n        id: 0,\n        introduction: '',\n        name: '',\n        price: 0,\n        publisher: '',\n        score: 0,\n        sellNumber: '',\n        updated_at: 0,\n        peopleNumber: '',\n        author: ''\n      }\n    }\n  },\n  beforeMount: function () {\n    this.book_id = this.$route.params.book_id\n    this.GetBook(this.book_id)\n  },\n  computed: {\n  },\n  methods: {\n    GetBook (bookId) {\n      this.$http.get('book/' + bookId)\n        .then(r => {\n          this.book.cover = r.data.cover\n          if (this.book.cover === null || this.book.cover === 'NULL' || this.book.cover === 'null' || this.book.cover === '') this.book.cover = false\n          if (r.data.category) this.book.category = r.data.category\n          this.book.id = r.data.id\n          this.book.introduction = r.data.introduction\n          this.book.name = r.data.name\n          this.book.price = this.toDecimal2(r.data.price / 100)\n          this.book.score = r.data.score\n          this.book.sellNumber = r.data.sell_number\n          this.book.publisher = r.data.publisher\n          this.book.peopleNumber = r.data.people_number\n          this.book.author = r.data.author\n          this.book.created_at = moment.unix(r.data.created_at).format('YYYY-MM-DD')\n          this.book.updated_at = moment.unix(r.data.updated_at).format('YYYY-MM-DD HH:mm:ss')\n          this.$Loading.finish()\n          document.title = this.book.name + window.title_suf\n        })\n        .catch(e => {\n          iView.LoadingBar.error()\n          switch (e.response.status) {\n            case 404:\n              iView.Notice.error({ title: '这本书不存在, 将在5秒后返回上一页面' })\n          }\n          let that = this\n          setTimeout(function () {\n            that.$router.back()\n          }, 5000)\n        })\n    },\n    toDecimal2: function (x) {\n      let f = Math.round(x * 100) / 100\n      let s = f.toString()\n      let rs = s.indexOf('.')\n      if (rs < 0) {\n        rs = s.length\n        s += '.'\n      }\n      while (s.length <= rs + 2) {\n        s += '0'\n      }\n      return s\n    },\n    ToString (id) {\n      id = id * 117 + 215\n      return id\n    },\n    Buy () {\n      let bookId = this.book_id\n      bookId = this.ToString(bookId)\n      this.$router.push({ name: 'CreateOrder', params: { book_id: bookId } })\n    }\n  }\n}\n</script>\n\n<style scoped>\n  .book-detail{\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/BookDetail.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"book-detail\"},[_c('i-header'),_vm._v(\" \"),_c('Breadcrumb',{staticStyle:{\"margin-top\":\"20px\",\"margin-bottom\":\"20px\",\"margin-left\":\"20px\"}},[_c('BreadcrumbItem',{attrs:{\"to\":\"/\"}},[_vm._v(\"首页\")]),_vm._v(\" \"),_c('BreadcrumbItem',{attrs:{\"to\":'/select?query=category,' + _vm.book.category.id}},[_vm._v(_vm._s(_vm.book.category.name))]),_vm._v(\" \"),_c('BreadcrumbItem',[_vm._v(_vm._s(_vm.book.name))])],1),_vm._v(\" \"),_c('Row',[_c('Col',{attrs:{\"span\":\"8\"}},[(_vm.book.cover)?_c('img',{attrs:{\"src\":_vm.book.cover,\"width\":\"100%\"}}):_c('div',{staticStyle:{\"height\":\"500px\"}},[_vm._v(\"该书暂无封面\")])]),_vm._v(\" \"),_c('Col',{attrs:{\"span\":\"16\"}},[_c('h1',{staticStyle:{\"font-size\":\"36px\"}},[_vm._v(_vm._s(_vm.book.name))]),_vm._v(\" \"),_c('p',{staticStyle:{\"font-size\":\"18px\",\"margin-top\":\"10px\"}},[_vm._v(\"作者： \"+_vm._s(_vm.book.author))]),_vm._v(\" \"),_c('p',{staticStyle:{\"font-size\":\"12px\",\"margin-top\":\"10px\"}},[_vm._v(\"出版社： \"+_vm._s(_vm.book.publisher))]),_vm._v(\" \"),_c('p',{staticStyle:{\"font-size\":\"12px\",\"margin-top\":\"10px\"}},[_vm._v(\"上架时间： \"+_vm._s(_vm.book.created_at))]),_vm._v(\" \"),_c('p',{staticStyle:{\"width\":\"60%\",\"font-size\":\"14px\",\"word-break\":\"break-all\",\"word-wrap\":\"break-word\",\"margin-top\":\"10px\"}},[_vm._v(\"简介：\"+_vm._s(_vm.book.introduction))]),_vm._v(\" \"),_c('p',{staticStyle:{\"margin-top\":\"10px\"}},[_vm._v(\"评分： \"),_c('i-star',{attrs:{\"score\":_vm.book.score}}),_vm._v(\" \"),_c('span',[_vm._v(\"(共 \"+_vm._s(_vm.book.peopleNumber)+\" 人评分) \")])],1),_vm._v(\" \"),_c('p',{staticStyle:{\"margin-top\":\"10px\"}},[_vm._v(\"销量: \"+_vm._s(_vm.book.sellNumber)+\" 本\")]),_vm._v(\" \"),_c('p',{staticStyle:{\"margin-top\":\"20px\"}},[_vm._v(\"价格： \"),_c('span',{staticStyle:{\"color\":\"red\"}},[_vm._v(\"￥\")]),_c('span',{staticStyle:{\"font-size\":\"24px\",\"color\":\"red\"}},[_vm._v(_vm._s(_vm.book.price))])]),_vm._v(\" \"),_c('Button',{staticStyle:{\"margin-top\":\"10px\",\"margin-bottom\":\"10px\"},attrs:{\"type\":\"error\"},on:{\"click\":function($event){_vm.Buy()}}},[_vm._v(\"立即购买\")]),_vm._v(\" \"),_c('Button',{staticStyle:{\"margin-top\":\"10px\",\"margin-bottom\":\"10px\"},on:{\"click\":function($event){_vm.$router.back()}}},[_vm._v(\"返回\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-72032700\",\"hasScoped\":true,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./node_modules/iview-loader??ref--1-1!./src/components/BookDetail.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!vue-style-loader!css-loader?minimize!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-72032700\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!../../node_modules/iview-loader/index.js??ref--1-1!./BookDetail.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!../../node_modules/iview-loader/index.js??ref--1-1!./BookDetail.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!../../node_modules/iview-loader/index.js??ref--1-1!./BookDetail.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-72032700\\\",\\\"hasScoped\\\":true,\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!../../node_modules/iview-loader/index.js??ref--1-1!./BookDetail.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-72032700\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/BookDetail.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}